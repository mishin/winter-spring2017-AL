<!DOCTYPE html>
<html lang="en" ng-app="SLOChartApp">

<head>
    <title>SLOChart | Flowchart</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="studentPage.css">
    <!-- Angular CSS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js"></script>
    <script src="http://angular-ui.github.com/bootstrap/ui-bootstrap-tpls-0.1.0.js"></script>
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<script>
        var app = angular.module('SLOChartApp', ['ui.bootstrap']);
        function loadCourses ($scope, $http){
            $http({
                method : 'GET',
                url : 'courseDb'
            }).then(function (response) {
                $scope.courses = response.data;
                $scope.test = "hi";
            });
        }
        app.controller('CatalogCtrl',
            function ($scope, $http){
                loadCourses($scope, $http);
            });
    </script>

<div id="header">
    <a href="#menu-toggle" class="header-item-left" id="menu-toggle">Catalog</a>
    <a href="#menu-toggle" class="header-item-left" id="courses-toggle">Required Courses</a>
    <div class="dropdown">
        <p class="header-item-left">Saved Flowcharts</p>
        <div class="dropdown-content">
            <a href="#">Freshman Flowchart</a>
            <a href="#">Flowchart Number Two</a>
        </div>
    </div>
    <div class="dropdown">
        <p class="header-item-left">Export</p>
        <div class="dropdown-content">
        </div>
    </div>
    <div class="dropdown">
        <p class="header-item-left">Save</p>
        <div class="dropdown-content">
        </div>
    </div>
    <div class="dropdown">
        <p class="header-item-left">Options</p>
        <div class="dropdown-content">
            <a href="#">Change Major</a>
            <a href="#">Add/Change Minor</a>
            <a href="#">Add/Change Concentration</a>
            <a href="#">Visual Settings</a>
        </div>
    </div>
    <span style="float:right"><p class="header-item-right">Logout jdoe@calpoly.edu</p></span>
</div>
<div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper">
        <h3>Course Catalog</h3>
        <div ng-controller="CatalogCtrl">
            <table class="catalogTable">
                <tr ng-repeat="c in courses">
                    <td class="{{c.educationArea}}">
                        <span class="class-number">{{c.prefix}} {{c.number}}</span>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <h2>Editing "Freshman Flowchart"</h2>
                    <br>
                    <!--<a href="#menu-toggle" class="btn btn-default" id="menu-toggle">Toggle Menu</a>-->
                    <table class="flowchartTable">
                        <th>Fall 2016</th>
                        <th>Winter 2017</th>
                        <th>Spring 2017</th>
                        <th>Fall 2017</th>
                        <th>Winter 2018</th>
                        <th>Spring 2018</th>
                        <th>Fall 2018</th>
                        <th>Winter 2019</th>
                        <th>Spring 2019</th>
                        <th>Fall 2019</th>
                        <th>Winter 2020</th>
                        <th>Spring 2020</th>
                        <tr>
                            <td class = "major">
                                <span class="event" id="1" draggable="true">
                                    <span class="class-title">Introduction to Computing</span><br>
                                    <span class="class-number">CPE 123</span>
                                </span>
                            </td>
                            <td class="major">
                                    <span class="event" id="2" draggable="true">
                                        <span class="class-title">Fundamentals of Computer Science I</span><br>
                                        <span class="class-number">CPE 101</span>
                                    </span>
                            </td>
                            <td class="major">
                                    <span class="event" id="3" draggable="true">
                                        <span class="class-title">Fundamentals of Computer Science II</span><br>
                                        <span class="class-number">CPE 102</span>
                                    </span>
                            </td>
                            <td class="major">
                                    <span class="event" id="4" draggable="true">
                                        <span class="class-title">Fundamentals of Computer Science III</span><br>
                                        <span class="class-number">CPE 103</span>
                                    </span>
                            </td>
                            <td class="major">
                                    <span class="event" id="5" draggable="true">
                                        <span class="class-title">Discrete Structures</span><br>
                                        <span class="class-number">CPE 348</span>
                                    </span>
                            </td>
                            <td class="major">
                                    <span class="event" id="6" draggable="true">
                                        <span class="class-title">Computer Architecture</span><br>
                                        <span class="class-number">CPE 315</span>
                                    </span>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="support">
                                    <span class="event" id="7" draggable="true">
                                        <span class="class-title">Calculus I</span><br>
                                        <span class="class-number">MATH 141</span>
                                    </span>
                            </td>
                            <td class="support">
                                    <span class="event" id="8" draggable="true">
                                        <span class="class-title">Chemistry I</span><br>
                                        <span class="class-number">CHEM 124</span>
                                    </span>
                            </td>
                            <td class="support">
                                    <span class="event" id="9" draggable="true">
                                        <span class="class-title">Statistical Methods for Engineers</span><br>
                                        <span class="class-number">STAT 312</span>
                                    </span>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="ge">
                                    <span class="event" id="10" draggable="true">
                                        <span class="class-title">Writing and Rhetoric</span><br>
                                        <span class="class-number">ENGL 134</span>
                                    </span>
                            </td>
                            <td class="support">
                                    <span class="event" id="11" draggable="true">
                                        <span class="class-title">Calculus II</span><br>
                                        <span class="class-number">MATH 142</span>
                                    </span>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="ge">
                                    <span class="event" id="12" draggable="true">
                                        <span class="class-title">Oral Communication</span><br>
                                        <span class="class-number">COMS 101</span>
                                    </span>
                            </td>
                            <td class="support">
                                    <span class="event" id="13" draggable="true">
                                        <span class="class-title">Calculus III</span><br>
                                        <span class="class-number">MATH 143</span>
                                    </span>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                    <br>
                    <h4>FAQs</h4>
                    <div class="faq_container">
                        <div class="faq">
                            <div class="faq_question"> &#x25BE; How do I add a minor? </div>
                            <div class="faq_answer_container">
                                <div class="faq_answer">
                                    First, click the Options button, then select "Add Minor". Choose the minor that
                                    you'd like to add, and the Required Courses section will populate with the required
                                    courses.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="faq_container">
                        <div class="faq">
                            <div class="faq_question"> &#x25BE; How do I edit a flowchart? </div>
                            <div class="faq_answer_container">
                                <div class="faq_answer">
                                    To edit a flowchart, click Saved Flowcharts, then select the flowchart you wish to
                                    edit. Drag and drop the classes you wish to move to their new locations.  Click the
                                    save button and your changes will be persisted. If you would like to print your
                                    flowchart, click Export.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="faq_container">
                        <div class="faq">
                            <div class="faq_question"> &#x25BE; How do I display the flowchart information? </div>
                            <div class="faq_answer_container">
                                <div class="faq_answer">
                                    Open the Catalog menu, then select the flowchart you wish to view information for.
                                    A popup window will display with the flowchart name, flowchart description, prerequisites,
                                    and term the flowchart is typically offered.  Once finished, click anywhere outside of
                                    the box and the popup box will disappear.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="faq_container">
                        <div class="faq">
                            <div class="faq_question"> &#x25BE; How do I make a note? </div>
                            <div class="faq_answer_container">
                                <div class="faq_answer">
                                    Click on the class you would like to make a note on. Within the popup box, click on add note.
                                    Write what you need in the note. Click the Add Note button and your editing session will end
                                    Your new note will be displayed whenever you click on that class. The flowchart will have a visual cue showing that the note has been added.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="faq_container">
                        <div class="faq">
                            <div class="faq_question"> &#x25BE; If I have changed my major, how do I change my flowchart to represent my new major? </div>
                            <div class="faq_answer_container">
                                <div class="faq_answer">
                                    First, select the “Edit Profile” option in the sidebar of your home screen. In the editing page, change your major selection to represent your new major and save your profile.
                                    Select the option “Add New Flowchart”. You will know have a flowchart populated with courses related to your new major.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="faq_container">
                        <div class="faq">
                            <div class="faq_question"> &#x25BE; How do I mark a flowchart as complete? </div>
                            <div class="faq_answer_container">
                                <div class="faq_answer">
                                    Click the edit button on the sidebar to enter editing mode for the flowchart. Select the flowchart you would like to mark in your flowchart.
                                    A box with options should appear on selection. Choose to mark the flowchart as complete.  Click the save button and your editing session will end.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /#page-content-wrapper -->

</div>
<!-- /#wrapper -->

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


<!-- Menu Toggle Script -->
<script>
        $("#menu-toggle").click(function(e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });
    </script>

<script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>

<script>
     $(document).ready(function() {
        $('.faq_question').click(function() {
            if ($(this).parent().is('.open')){
                $(this).closest('.faq').find('.faq_answer_container').animate({'height':'0'},500);
                $(this).closest('.faq').removeClass('open');
                }else{
                    var newHeight =$(this).closest('.faq').find('.faq_answer').height() +'px';
                    $(this).closest('.faq').find('.faq_answer_container').animate({'height':newHeight},500);
                    $(this).closest('.faq').addClass('open');
                }
        });
    });
    </script>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
            $('.event').on("dragstart", function (event) {
                  var dt = event.originalEvent.dataTransfer;
                  dt.setData('Text', $(this).attr('id'));
                });
            $('table td').on("dragenter dragover drop", function (event) {
               event.preventDefault();
               if (event.type === 'drop') {
                  var data = event.originalEvent.dataTransfer.getData('Text',$(this).attr('id'));
                  de=$('#'+data).detach();
                  de.appendTo($(this));
               };
           });
    })
    </script>

</body>

</html>